{
    "collab_server" : "",
    "contents" : "#############################################################\n#Crown ratio Prognaus\n#############################################################\n#'@title Crown ratio model Prognaus\n#'\n#'@description \\code{CR.P} calculates the crown ratio\n#'\n#'@details\n#'CR.P is a static crown ratio model, i.e. it estimates the crown ratio\n#'from tree and site variables. Dynamic crown ratio models predict the\n#'change in crown ratio. The model was developed by\n#'Hasenauer and Monserud (1996). Coefficients are taken from Hasenauer (2000).\n#'For full references see\n#'\\url{https://homepage.boku.ac.at/sonja/Lit_Prog.pdf}.\n#'Coding of tree species, uses the coding of the\n#'Austrian National Forest Inventory\n#'(\\href{https://homepage.boku.ac.at/sonja/ANFI_E.pdf}{ANFI}).\n#'\n#'@param BART Tree species,\n#'coding=\\href{https://homepage.boku.ac.at/sonja/ANFI_E.pdf}{ANFI},\n#'default=1 Norway spruce\n#'@param BHD_cm Dbh in cm\n#'@param H_m Tree height in m\n#'@param BAL Basal area of larger trees (Wykoff, 1990)\n#'@param CCF Crown competition factor (Krajicek, 1961)\n#'@param Seehoehe_m Elevation in m (Range: 200-2200 m)\n#'@param Hangneigung_Proz Slope in percent\n#'@param Exposition_Grad Aspect in degree\n#'\n#'@examples\n#'CR.P(BART=1,BHD_cm=30,H_m=30,BAL=0,CCF=200)\n\nCR.P<-function(BART=1, BHD_cm, H_m, BAL, CCF,\n               Seehoehe_m=600, Hangneigung_Proz=50, Exposition_Grad=180){\n\n#Berechnet das Kronenmodel mit den Koeffizienten von Hasenauer 2000\nif (BART==1) {#Fichte\n  a0 = -3.893748\n  b1 = 0.011232\n  b2 = 0.02687\n  b3 = -0.6358 / 10000\n  c1 = 0.010574\n  c2 = 0.404436\n  d1 = -0.043123\n  d2 = 0\n  d3 = 0\n  d4 = -0.222507\n  d5 = -0.040207\n  d6 = 0.147378\n}\n\nif (BART==2) {#Tanne\n  a0 = -2.364763\n  b1 = 0.007637\n  b2 = 0.022854\n  b3 = -0.74049 / 10000\n  c1 = 0.010184\n  c2 = 0.270049\n  d1 = -0.030867\n  d2 = 0\n  d3 = 0\n  d4 = -0.555051\n  d5 = -0.030725\n  d6 = 0.158594\n}\n\nif (BART==3) {#LÃ¤rche\n  a0 = -2.859456\n  b1 = 0.009106\n  b2 = 0.027547\n  b3 = 0 / 10000\n  c1 = 0.009133\n  c2 = 0.373768\n  d1 = -0.037037\n  d2 = 0\n  d3 = -0.251112\n  d4 = 0\n  d5 = 0.060256\n  d6 = 0.106756\n}\n\nif (BART==4) {#Kiefer\n  a0 = -1.676984\n  b1 = 0.002942\n  b2 = 0.026387\n  b3 = 0 / 10000\n  c1 = 0.013054\n  c2 = 0.245749\n  d1 = 0\n  d2 = -0.001494\n  d3 = 0\n  d4 = -0.413472\n  d5 = 0.079776\n  d6 = 0.167692\n}\n\nif (BART==5) {#Schwarzkiefer\n  a0 = -2.262052\n  b1 = 0\n  b2 = 0.019348\n  b3 = 0 / 10000\n  c1 = 0.013737\n  c2 = 0.449099\n  d1 = 0\n  d2 = -0.012183\n  d3 = 0\n  d4 = 0.412069\n  d5 = 0.257688\n  d6 = -0.135794\n}\n\nif (BART==6) {#Zirbe\n  a0 = -5.601587\n  b1 = 0.018602\n  b2 = 0.031416\n  b3 = 0 / 10000\n  c1 = 0\n  c2 = 0.674139\n  d1 = 0\n  d2 = 0\n  d3 = 0\n  d4 = 0\n  d5 = 0\n  d6 = 0\n}\n\nif (BART==10) {#Buche\n  a0 = -3.853739\n  b1 = 0.007435\n  b2 = 0.024684\n  b3 = -1.35686 / 10000\n  c1 = 0\n  c2 = 0.384344\n  d1 = 0.015155\n  d2 = 0\n  d3 = 0.144669\n  d4 = 0\n  d5 = 0\n  d6 = 0\n}\n\nif (BART==11) {#Eiche\n  a0 = -1.985395\n  b1 = 0.005525\n  b2 = 0.013867\n  b3 = -1.10735 / 10000\n  c1 = 0.006856\n  c2 = 0.201014\n  d1 = 0\n  d2 = 0\n  d3 = 0\n  d4 = 0\n  d5 = 0\n  d6 = 0\n}\n\nif (BART==28) {#sonst. Laubholz\n  a0 = -1.995385\n  b1 = 0.00649\n  b2 = 0.019637\n  b3 = -1.2235 / 10000\n  c1 = 0.003633\n  c2 = 0.158546\n  d1 = 0\n  d2 = 0\n  d3 = 0\n  d4 = 0.17509\n  d5 = 0.015639\n  d6 = 0.074927\n}\n\n\nExpo_rad  <-  (Exposition_Grad / 180) * pi #Umrechnung in Radiant\nif(CCF==0){\n  CCF<-1\n}\n\n\nCrown_ratio = 1 / (1 + exp(a0 + b1 * (100 * H_m / BHD_cm) + b2 * H_m + b3 * BHD_cm ^ 2+\nc1 * BAL + c2 * log(CCF) + d1 * Seehoehe_m / 100 + d2 * (Seehoehe_m / 100) ^ 2 +\nd3 * Hangneigung_Proz / 100 + d4 * (Hangneigung_Proz / 100) ^ 2 +\nd5 * (Hangneigung_Proz / 100) * sin(Expo_rad) + d6 * (Hangneigung_Proz / 100) * cos(Expo_rad)))\n\n}\n\nCR.P<-Vectorize(CR.P)\n",
    "created" : 1488959399524.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "361779811",
    "id" : "D9688CEA",
    "lastKnownWriteTime" : 1488826124,
    "last_content_update" : 1488826124,
    "path" : "C:/Eigene_Dateien/AaLehre/BWS_StatGrow/Prognaus_R/PrognausBaseSV/R/CR.R",
    "project_path" : "R/CR.R",
    "properties" : {
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}